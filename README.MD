# Circuit Breaker Manager

A robust microservice monitoring system implementing the **Circuit Breaker** pattern. This project ensures system
stability by tracking external service health, managing failure states, and providing real-time status updates via
WebSockets.

## ğŸ›  Tech Stack

- **Language**: Python 3.12
- **Framework**: [FastAPI](https://fastapi.tiangolo.com/)
- **Database**: PostgreSQL (SQLAlchemy 2.0 + Alembic migrations)
- **Task Queue & Caching**: Redis + [RQ](https://python-rq.org/)
- **Package Manager**: [uv](https://github.com/astral-sh/uv)
- **Containerization**: Docker & Docker Compose

## ğŸ“‹ Project Structure

```text
src/
â”œâ”€â”€ database/    # Models, sessions, and Alembic migrations
â”œâ”€â”€ repository/  # Data access layer (CRUD operations)
â”œâ”€â”€ services/    # Business logic (WS, Pub/Sub, Cache management)
â”œâ”€â”€ tasks/       # Background worker logic and health checkers
â”œâ”€â”€ scheduler/    # Task scheduling configuration
â”œâ”€â”€ views/       # API endpoints (FastAPI routes)
â””â”€â”€ schemas/     # Pydantic models for data validation
```

## âš™ï¸ Getting Started

### Using Docker (Recommended)

1. Clone the repository:
   ```bash
   git clone <your-repository-url>
   cd circuit-breaker-manager
   ```

2. Configure environment variables:
   ```bash
   cp .env.sample .env
   # Update .env with your specific credentials
   ```

3. Spin up the infrastructure:
   ```bash
   docker-compose up --build
   ```

### Local Development (using uv)

1. Install `uv` if not already available.
2. Synchronize dependencies:
   ```bash
   uv sync
   ```
3. Run database migrations:
   ```bash
   uv run alembic upgrade head
   ```
4. Start the application:
   ```bash
   uv run main.py